const x=["Smart","Ergonomic","Portable","Durable","Sleek","Eco","Advanced","Compact","Efficient","Wireless"],E=["Watch","Chair","Speaker","Monitor","Drone","Phone","Camera","TV","Router","Lamp"];let g=e=>e[Math.floor(Math.random()*e.length)],M=0;function p(e){const t=new Array(e);for(let n=0;n<e;n++){const i=Math.random()*50+5,a=Math.random()*80+10,u=Math.random()*30+3;t[n]={id:M++,name:`${g(x)} ${g(E)} ${Math.floor(Math.random()*900)+100}`,weight:Math.random()*20+.1,dimensions:{width:i,height:a,depth:u},powerConsumption:Math.random()*1e3+5,price:Math.random()*1e3+50,availabilityStatus:g(["In Stock","Low Stock","Out of Stock"]),rating:Math.random()*2+3}}return t}const h={weight:{imperial:"lbs",metric:"kg"},power:{imperial:"hp",metric:"w"},length:{imperial:"in",metric:"cm"}};let o=[],r=null,d="metric";const s=document.getElementById("tbody"),C=document.querySelector("table"),y=document.getElementById("no-rows-msg"),c=new Map;function w(){return{weightConversion:d==="metric"?1:2.20462,powerConversion:d==="metric"?1:.00134102,lengthConversion:d==="metric"?1:.393701}}const k=document.createElement("tr");k.innerHTML=`
  <td class="col-id"></td>
  <td class="col-name"></td>
  <td class="col-weight"></td>
  <td class="col-dims"></td>
  <td class="col-power"></td>
  <td class="col-price"></td>
  <td class="col-status"></td>
  <td class="col-rating"></td>
  <td class="col-actions">
    <button class="small delete-btn">delete</button>
  </td>
`;function f(e){const t=k.cloneNode(!0);return t.dataset.id=e.id,b(t,e,w()),t}function b(e,t,n){const{weightConversion:i,powerConversion:a,lengthConversion:u}=n,l=e.children;l[0].textContent=t.id,l[1].textContent=t.name,l[2].textContent=`${(t.weight*i).toFixed(1)} ${h.weight[d]}`,l[3].textContent=`${(t.dimensions.height*u).toFixed(1)} x ${(t.dimensions.width*u).toFixed(1)} x ${(t.dimensions.depth*u).toFixed(1)} ${h.length[d]}`,l[4].textContent=`${(t.powerConsumption*a).toFixed(1)} ${h.power[d]}`,l[5].textContent=`$${t.price.toFixed(2)}`,l[6].textContent=t.availabilityStatus,l[7].textContent=t.rating.toFixed(1)}function m(e){e?(y.style.display="none",C.style.display="table"):(y.style.display="block",C.style.display="none")}function I(){o=p(1e3),r=null,s.textContent="",c.clear();const e=document.createDocumentFragment();for(const t of o){const n=f(t);c.set(t.id,{data:t,el:n}),e.appendChild(n)}s.appendChild(e),m(!0)}function v(){const e=p(1);o=o.concat(e);const t=document.createDocumentFragment();for(const n of e){const i=f(n);c.set(n.id,{data:n,el:i}),t.appendChild(i)}s.appendChild(t),m(!0)}function S(){const e=p(1);o=e.concat(o);const t=document.createDocumentFragment();for(const n of e){const i=f(n);c.set(n.id,{data:n,el:i}),t.appendChild(i)}s.insertBefore(t,s.firstChild),m(!0)}function B(){if(o.length<10){v();return}const e=p(1);o.splice(10,0,...e);const t=document.createDocumentFragment();for(const i of e){const a=f(i);c.set(i.id,{data:i,el:a}),t.appendChild(a)}const n=s.children[10];s.insertBefore(t,n),m(!0)}function $(){for(let e=0;e<o.length;e++){const t=o[e];if(t.availabilityStatus==="Out of Stock"){t.availabilityStatus="In Stock";const n=c.get(t.id);n&&(n.el.children[6].textContent="In Stock")}}}function F(){d=d==="imperial"?"metric":"imperial";const e=w();for(let t=0;t<o.length;t++){const n=c.get(o[t].id);n&&b(n.el,n.data,e)}}function R(){o=[],c.clear(),s.textContent="",r=null,m(!1)}function D(){o.reverse();for(let e=0;e<o.length;e++){const t=c.get(o[e].id);s.appendChild(t.el)}}function L(){o.sort((e,t)=>e.name.localeCompare(t.name));for(let e=0;e<o.length;e++){const t=c.get(o[e].id);s.appendChild(t.el)}}function N(){const e=[],t=[];for(const n of o)n.id%2?t.push(n):e.push(n);o=t;for(const n of e){const i=c.get(n.id);i&&(i.el.remove(),c.delete(n.id))}}s.addEventListener("click",e=>{const t=e.target,n=t.closest("tr");if(n){if(t.classList.contains("delete-btn")){n.remove(),o=o.filter(i=>i.id!==Number(n.dataset.id)),c.delete(Number(n.dataset.id)),r===n&&(r=null);return}r==null||r.classList.remove("selected"),n.classList.toggle("selected"),r=n}});document.getElementById("create").onclick=I;document.getElementById("reverse").onclick=D;document.getElementById("insert").onclick=B;document.getElementById("prepend").onclick=S;document.getElementById("append").onclick=v;document.getElementById("sort").onclick=L;document.getElementById("filter").onclick=N;document.getElementById("units").onclick=F;document.getElementById("restock").onclick=$;document.getElementById("clear").onclick=R;m(!1);
